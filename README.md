# Генератор этикеток с DataMatrix/QR кодами

**Версия:** 1.0.1  
**Автор:** Michael Bag

## Описание

Генератор этикеток для печати с поддержкой DataMatrix и QR кодов. Создает этикетки из CSV данных с возможностью экспорта в HTML и PDF форматы.

## Возможности

- ✅ Генерация DataMatrix кодов (основной режим)
- ✅ Fallback на QR коды при отсутствии DataMatrix библиотеки
- ✅ Создание этикеток с текстом и изображениями
- ✅ Поддержка EAC изображений
- ✅ Экспорт в HTML для печати
- ✅ Генерация PDF с шаблонами
- ✅ Гибкая настройка через конфигурационные файлы
- ✅ Поддержка прозрачного фона

## Быстрый старт

```bash
# Установка зависимостей
pip install -r requirements.txt

# Запуск с базовыми параметрами
python main.py data.csv output_folder

# Просмотр всех опций
python main.py --help

# Проверка версии
python main.py --version
```

## Использование

```bash
python main.py [CSV_FILE] [OUTPUT_DIR] [OPTIONS]
```

### Основные параметры

- `CSV_FILE` - путь к CSV файлу с данными
- `OUTPUT_DIR` - папка для сохранения результатов

### Опции

- `--version` - показать версию программы
- `--help` - показать справку
- `--config FILE` - загрузить настройки из файла
- `--width MM` - ширина страницы в мм (по умолчанию: 30)
- `--height MM` - высота страницы в мм (по умолчанию: 20)
- `--margin MM` - отступ от краев в мм (по умолчанию: 2)
- `--dpi DPI` - разрешение изображений (по умолчанию: 300)

### Параметры DataMatrix

- `--dm-scale FLOAT` - масштаб DataMatrix (по умолчанию: 1.0)
- `--dm-position POS` - позиция на шаблоне (bottom-right, bottom-left, top-right, top-left)
- `--dm-size MM` - размер большей стороны в мм (по умолчанию: 15)
- `--dm-margin MM` - отступ от краев шаблона в мм (по умолчанию: 2)

### Управление отображением

- `--no-eac` - не отображать EAC изображение
- `--no-product-name` - не отображать наименование продукта
- `--text-below-dm` - размещать текст под DataMatrix
- `--transparent-bg` - использовать прозрачный фон
- `--no-pdf` - не создавать PDF файл

### Шаблоны

- `--template FILE` - путь к шаблону (PDF или JPG)
- `--eac-image FILE` - путь к EAC изображению (по умолчанию: eac.png)
- `--eac-height MM` - максимальная высота EAC в мм (по умолчанию: 5)

## Формат CSV

CSV файл должен содержать минимум 3 столбца:
1. Данные для DataMatrix кода
2. Любые данные (игнорируются)
3. Текст для отображения на этикетке

Пример:
```csv
01046000000000121=ABC1234567890	Игнорируется	Наименование продукта
01046000000000122=DEF0987654321	Игнорируется	Другой продукт
```

## Конфигурационные файлы

Поддерживаются форматы JSON и INI:

### JSON пример (config.json):
```json
{
  "width": 40,
  "height": 25,
  "margin": 3,
  "dm_scale": 1.2,
  "no_eac": false,
  "transparent_bg": false
}
```

### INI пример (config.ini):
```ini
[settings]
width = 40
height = 25
margin = 3
dm_scale = 1.2
no_eac = false
transparent_bg = false
```

## Установка

См. [INSTALL.md](INSTALL.md) для подробных инструкций по установке зависимостей.

## Лицензия

Проект распространяется под лицензией MIT.

## История версий

### v1.0.1 (текущая)
- Улучшена поддержка Windows 10/11
- Добавлены кроссплатформенные шрифты
- Создан диагностический скрипт для DataMatrix
- Добавлена подробная документация для Windows
- Исправлены проблемы совместимости

### v1.0.0
- Первый релиз
- Поддержка DataMatrix и QR кодов
- Генерация HTML и PDF
- Работа с шаблонами
- Гибкая конфигурация